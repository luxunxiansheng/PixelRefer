{
    "name": "PixelRefer Dev Container",
    "build": {
        "context": "..",
        "dockerfile": "Dockerfile"
    },
    "runArgs": [
        "--gpus=all",
        "--ipc=host",
        "--network=host"
    ],
    "containerEnv": {
        "VLLM_DEVICE": "cuda",
        "VLLM_LOGGING_LEVEL": "DEBUG",
        "NVIDIA_VISIBLE_DEVICES": "all",
        "NVIDIA_DRIVER_CAPABILITIES": "compute,utility,video",
        "http_proxy": "${localEnv:http_proxy}",
        "https_proxy": "${localEnv:https_proxy}",
        "no_proxy": "${localEnv:no_proxy}"
    },
    "customizations": {
        "vscode": {
            "extensions": [
                "ms-python.python",
                "ms-toolsai.jupyter",
                "ms-python.python",
                "ms-python.vscode-pylance",
                "charliermarsh.ruff",
                "tamasfe.even-better-toml",
                "ms-python.black-formatter",
                "mhutchie.git-graph",
                "GitHub.copilot",
                "ms-toolsai.jupyter",
                "RSIP-Vision.nvidia-smi-plus",
                "ms-toolsai.jupyter-keymap",
                "ms-toolsai.vscode-jupyter-cell-tags",
                "ms-vscode.vscode-json",
                "redhat.vscode-yaml",
                "ms-vscode-remote.remote-containers"
            ]
        }
    }
    ,
    "postCreateCommand": "echo 'Container built with all required packages; nothing to run post-create.'"
}